\documentclass[english]{article}

\usepackage[osf]{libertine}
\usepackage[scaled=0.7]{beramono}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage{url}
\usepackage[pdfusetitle,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=false,
 breaklinks=false,pdfborder={0 0 0},backref=false,colorlinks=false]
 {hyperref}
 
% Tweak the TOC (make it more compact)
\usepackage{tocloft}
\setlength{\cftaftertoctitleskip}{6pt}
\setlength{\cftbeforesecskip}{3pt}
\setlength{\cftbeforesubsecskip}{0pt}
\renewcommand{\cfttoctitlefont}{\normalsize\bfseries}
\renewcommand{\cftsecfont}{\small\bfseries}
\renewcommand{\cftsecpagefont}{\small\bfseries}
\renewcommand{\cftsubsecfont}{\small}
\renewcommand{\cftsubsecpagefont}{\small}

% markup
\newcommand*\jmacro[1]{\textbf{\texttt{#1}}}
\newcommand*\jcsmacro[1]{\jmacro{\textbackslash{#1}}}
\newcommand*\joption[1]{\textbf{\texttt{#1}}}
\newcommand*\jfmacro[1]{\texttt{#1}}
\newcommand*\jfcsmacro[1]{\jfmacro{\textbackslash{#1}}}

% macros
\newcommand*\uvlt{\textsf{univie-ling-paper}}
\providecommand{\LyX}{L\kern-.1667em\lower.25em\hbox{Y}\kern-.125emX\@}

% improve layout
\tolerance 1414
\hbadness 1414
\emergencystretch 1.5em
\hfuzz 0.3pt
\widowpenalty = 10000
\vfuzz \hfuzz
\raggedbottom

\usepackage{microtype}

\usepackage{babel}

\usepackage{listings}
\lstset{language={[LaTeX]TeX},
        basicstyle={\small\ttfamily},
        frame=single}

\setcounter{tocdepth}{2}

\begin{document}

\title{The \uvlt\ class}

\author{\texorpdfstring{Jürgen Spitzmüller%
		\thanks{Please report issues via \protect\url{https://github.com/jspitz/univie-ling}.}}{Jürgen Spitzmüller}}

\date{Version 0.9, 2018/02/03}

\maketitle

\begin{abstract}
\noindent The \uvlt\ class provides a \LaTeXe\ class suitable for papers (i.\,e., [\emph{Pro}]\emph{Seminararbeiten}) in (Applied)
Linguistics at the Department of Linguistics, University of Vienna.
The class implements some standards for those papers (such as a suitable title page) and pre-loads some packages
that are considered useful in the context of Applied Linguistics. The class might also be used for General and Historical
Linguistics as well as for other fields of study at Vienna University. In this case, however, some settings might have to
be adjusted. This manual documents the class as well as the configuration possibilities.
\end{abstract}

\tableofcontents

\clearpage

\section{Aims and scope}

The \uvlt\ class has been written mainly with my own field in mind: Applied Linguistics. Therefore, the defaults are closely tied to
the requirements in this field. This particularly concerns the preloaded bibliography style, which conforms to the standards that are proposed by the Viennese Applied Linguistics staff (see sec.~\ref{bibliography}). Furthermore, some frequently used
packages (such as \textsf{covington}) are pre-loaded. As documented later, however, you can disable this (and other) default(s), use
a bibliography style of your choice and load alternative packages.

The design matches as closely as necessary the standards set up by the university. This particularly concerns the
title page, which takes the recommendations specified by the \emph{StudienServiceCenter} as a model.\footnote{%
\url{http://ssc-philkultur.univie.ac.at/studium/masterstudien/abgabe-der-masterarbeit} <25.\,01.\,2017>.}
These specifications actually address theses, not research proposals (for which no title page specifications exist), but I think it makes sense
to adapt them.

\section{Requirements of \uvlt}\label{sec:req-jslp}

The following class and packages are required and loaded by \uvlt:
\begin{itemize}
 \setlength\itemsep{0pt}
 \item \textsf{scrartcl}: KOMA-Script article class (base class).
 \item \textsf{csquotes}: Context sensitive quotations.
 \item \textsf{graphicx}: Graphic support.
 \item \textsf{scrlayer-scrpage}: Page layout settings.
 \item \textsf{setspace}: Line spacing adjustments.
 \item \textsf{translations}: Localization machinery.
 \item \textsf{url}: Support for typesetting URLs.
 \item \textsf{xkeyval}: Key-value interface for class options.
\end{itemize}
The following packages are required for specific features and loaded by default. However, the loading can be individually and generally omitted (see sec.~\ref{coptions}):
\begin{itemize}
 \setlength\itemsep{0pt}
 \item \textsf{mathpazo}: Default serif font (\emph{Palatino}).
 \item \textsf{urw-arial} or \textsf{helvet}: Default sans serif font (\emph{Arial} or \emph{Helvetica}).
 \item \textsf{biblatex}: Contemporary bibliography support.
 \item \textsf{caption}: Caption layout adjustments.
 \item \textsf{covington}: Support for linguistic examples\slash glosses.
 \item \textsf{fontenc}: Set the font encoding for PostScript fonts. Loaded with option \joption{T1}.
 \item \textsf{inputenc}: Set the input encoding of the document. The encoding used is \joption{utf8}.
 \item \textsf{microtype}: Micro-typographic adjustments.
 \item \textsf{prettyref}: Verbose cross-references.
 \item \textsf{varioref}: Context-sensitive cross references.
\end{itemize}
The following package is required for an optional feature (not used by default):
\begin{itemize}
 \setlength\itemsep{0pt}
 \item \textsf{fontspec}: Load OpenType fonts (with LuaTeX or XeTeX)
 \item \textsf{biblatex-apa}: APA style for \textsf{biblatex}.
\end{itemize}

\section{Fonts}\label{fonts}

The class uses, by default, PostScript (a.\,k.\,a. Type\,1) fonts and thus requires classic (PDF)LaTeX. Optionally, however, you can also use OpenType fonts via the \textsf{fontspec}
package and the XeTeX or LuaTeX engine instead. In order to do this, use the class option \joption{fonts=otf} (see sec.~\ref{coptions} for details).

In both cases, the class uses by default \emph{Palatino} as a serif font and \emph{Arial} (or, alternatively, \emph{Helvetica}) as a sans serif font. Note that \emph{Arial} (PostScript) font support is not
included in most \LaTeX\ distributions by default, due to license reasons. You can install it easily via the \textsf{getnonfreefonts} script.\footnote{\url{https://www.tug.org/fonts/getnonfreefonts}
<25.\,01.\,2017>.}
If \emph{Arial} is not installed, however, \emph{Helvetica} (which is part of the \LaTeX\ core packages) is used as a fallback. This is usually a suitable alternative, since \emph{Arial} and
\emph{Helvetica} only differ in subtle details. If you use \joption{fonts=otf}, you just have to make sure that you have the fonts \emph{Arial} and \emph{Palatino}
installed on your operating system (with exactly these names, i.\,e., fonts named \emph{Arial Unicode MS} or \emph{Linotype Palatino} will not be recognized!).

I have prefered \emph{Palatino} over the serif font specified by the corporate design of Vienna University (viz.\ \emph{Georgia}) for the following reasons. Firstly, \emph{Georgia} support is
not included in every \LaTeX\ distribution; it is provided by the packages \textsf{winfonts} and \textsf{mathgifg}, respectively, but it requires some effort to set up these packages properly.
Secondly, the style guide for theses does not urge you to use a specific serif font (only the use of \emph{Arial} for title pages is strongly advised), so there is no need to use \emph{Georgia}.
And finally, \emph{Georgia} has been designed particularly for screen reading, not for print, so it is not really a good choice.
If you want to use it anyway, please consult the aforementioned package's documentation for details.

If you (or your instructor) prefer(s) \emph{Times New Roman} over \emph{Palatino}, write to your preamble

\begin{lstlisting}[language={[LaTeX]TeX},basicstyle={\small\ttfamily},frame=single]
\usepackage{mathptmx}
\end{lstlisting}
if you use PostScriptFonts, or

\begin{lstlisting}[language={[LaTeX]TeX},basicstyle={\small\ttfamily},frame=single,morekeywords={setmainfont}]
\setmainfont{Times New Roman}
\end{lstlisting}
if you use \joption{fonts=otf}, respectively. Note that \emph{Times New Roman}, as the name implies, has been designed for newspapers and thus narrow columns. It is not really
a suitable font for books and articles on A4 paper. This is why it is not used by default.

A recommendable serif font (and actually the `professional' house font of Vienna university) is \emph{MinionPro}, supported by the excellent \textsf{FontPro} package.%
\footnote{\url{https://github.com/sebschub/FontPro} <25.\,01.\,2017>.} However, some effort is needed to install the package and fonts.
Please refer to the package's documentation in case you are interested.

If you want (or need) to load all fonts manually, you can switch off all automatic font loading by the class option \joption{fonts=none} (see sec.~\ref{coptions}).


\section{Class Options}\label{coptions}

The \uvlt\ class provides a range of key=value type options to control the font handling, package loading and some specific behavior.
These are documented in this section.

\subsection{Font selection}

As elaborated above, the package supports PostScript fonts (via LaTeX and PDFLaTeX) as well as OpenType fonts (via XeTeX and LuaTeX).
PostScript is the traditional LaTeX font format. Specific LaTeX packages and metrics files are needed to use the fonts (but all fonts
needed to use this class should be included in your LaTeX distribution and thus ready to use). OpenType fonts, by contrast, are
taken directly from the operating system. They usually provide a wider range of glyphs, which might be a crucial factor for a linguistic
paper. However, they can only be used by newer, partly still experimental TeX engines such as XeTeX and LuaTeX.

The class provides the following option to set the font handling:
\begin{description}
 \setlength\itemsep{0pt}
 \item{\joption{fonts=ps|otf|none}}: if \joption{ps} is selected, PostScript fonts are used (this is the default and
       the correct choice if you use LaTeX or PDFLaTeX); if \joption{otf} is selected, OpenType fonts are used, the class
       loads the \textsf{fontspec} package, sets \emph{Palatino} as main font and \emph{Arial} as sans serif font (this is
       the correct choice if you use XeTeX or LuaTeX; make sure you have the respective fonts installed on your system);
       if \joption{none} is selected, finally, the class will not load any font package, and neither \textsf{inputenc}
       nor \textsf{fontenc} (this choice is useful if you want to control the font handling completely yourself).
\end{description}

\subsection{Package loading}\label{packageloading}

Most of the extra features provided by the class can be switched off. This might be useful if you do not need the respective feature anyway,
and crucial if you need an alternative package that conflicts with one of the preloaded package.

All following options are \joption{true} by default. They can be switched off one-by-one via the value \joption{false}, or altogether, by means of the special option \joption{all=false}. You can also switch selected packages on\slash off again after this
option (e.\,g., \joption{all=false,microtype=true} will switch off all packages except \textsf{microtype}).

\begin{description}
 \setlength\itemsep{0pt}
 \item{\joption{apa=true|false}}: If \joption{true}, the \textsf{biblatex-apa} style is used when \textsf{biblatex} is loaded. 
        By default, the included \textsf{univie-ling} style is loaded, instead. See sec.~\ref{bibliography} for details.
 \item{\joption{biblatex=true|false}}: If \joption{false}, \textsf{biblatex} is not loaded. This is useful if you prefer Bib\TeX\
        over \textsf{biblatex}, but also if you do not want to use the \textsf{biblatex-apa} style (and thus want to load \textsf{biblatex}
        manually with different options). See sec.~\ref{bibliography} for details.
 \item{\joption{caption=true|false}}: If \joption{false}, the \textsf{caption} package is not loaded. This affects the caption layout.
 \item{\joption{covington=true|false}}: If \joption{false}, \textsf{covington} is not loaded. Covington is used for numbered examples.
 \item{\joption{microtype=true|false}}: If \joption{false}, \textsf{microtype} is not loaded.
 \item{\joption{ref=true|false}}: If \joption{false}, both \textsf{prettyref} and \textsf{varioref} are not loaded and the string (re)definitons
        of the class (concerning verbose cross references) are omitted.
\end{description}

\subsection{Further options}

The class builds on \textsf{scrartcl} (KOMA article), which provides many more options to tweak the appearance of your document. You can use
all these options via the \jfcsmacro{KOMAoptions} macro. Please refer to the \textsf{KOMA-Script} manual \cite{koma} for details.

\section{General settings}

In this section, it is explained how you can enter some general settings, particular the information that must be given on the title page. 
The title page, following the model given in university guidelines for theses, is automatically set up by the \jcsmacro{maketitle} command,
given that you have specified the following data in the preamble.

\subsection{Author-related data}

\begin{description}
 \setlength\itemsep{0pt}
 \item{\jcsmacro{author\{<name>\}}}: Name(s) of the paper's author(s). Separate multiple authors by \jcsmacro{and}.
 \item{\jcsmacro{studienkennzahl\{<code>\}}}: The degree programme code  (\emph{Studienkennzahl}) as it appears on
 the student record sheet, e.\,g. \emph{A\,792\,327}.
 \item{\jcsmacro{matrikelnummer\{<registration number>\}}}: Your registration number (\emph{Matrikelnummer}). In case of multiple authors, separate the codes by \jcsmacro{and}.
\end{description}


\subsection{Paper-related data}

\begin{description}
 \setlength\itemsep{0pt}
 \item{\jcsmacro{title\{<title>\}}}: Title of the paper.
 \item{\jcsmacro{subtitle\{<subtitle>\}}}: Subtitle of the paper.
 \item{\jcsmacro{course\{<type>\}\{<course title>\}}}: Type and title of the course. The type must be one of \joption{ps} (Proseminar), \joption{se} (Seminar),
          \joption{vo} (Vorlesung), \joption{ue} (\"Ubung), \joption{ko} (Kolloquium) or \joption{pv} (Privatissimum).
 \item{\jcsmacro{semester\{<semester type>\}\{<year>\}}}: Type and year of the current semester. Type must be either \joption{ss} (summer term) or \joption{ws} (winter term).
 \item{\jcsmacro{instructor\{<name>\}}}: Title and name of your instructor (\emph{Dozent}).
 \item{\jcsmacro{texttype\{<text type>\}}}: Text type (such as \emph{Forschungsbericht}). For \joption{ps} and \joption{se} course types, this is automatically set.
\end{description}

\section{Declaration}

It is possible to automatically generate a page with a declaration where you declare and sign that you follow research ethics\slash anti-plagiarism rules
(\emph{Selbst\"andigkeitserkl\"arung}) by means of the command

\begin{lstlisting}[language={[LaTeX]TeX},basicstyle={\small\ttfamily},frame=single,morekeywords={makedeclaration}]
\makedeclaration
\end{lstlisting}

\section{Semantic markup}

The class defines some basic semantic markup common in linguistics:

\begin{description}
 \setlength\itemsep{0pt}
 \item{\jcsmacro{Expression\{<text>\}}}: To mark expressions (object language). Typeset in \emph{italics}.
 \item{\jcsmacro{Concept\{<text>\}}}: To mark concepts. Typeset in \textsc{small capitals}.
 \item{\jcsmacro{Meaning\{<text>\}}}: To mark meaning. Typeset in `single quotation marks'.
\end{description}
You can redefine each of these commands, if needed, like this:
\begin{lstlisting}[language={[LaTeX]TeX},basicstyle={\small\ttfamily},frame=single,morekeywords={enquote}]
\renewcommand*\Expression[1]{\textit{#1}}
\renewcommand*\Concept[1]{\textsc{#1}}
\renewcommand*\Meaning[1]{\enquote*{#1}}
\end{lstlisting}

\section{Bibliography}\label{bibliography}

\subsection{Default bibliography style (\emph{Unified Style for Linguistics})}

By default, the \uvlt\ class loads a bibliography style which matches the conventions that are recommended by the Applied Linguistics staff of the department.\footnote{See \url{http://www.spitzmueller.org/docs/Zitierkonventionen.pdf}} These conventions draw on the
\emph{Unified Style Sheet for Linguistics} of the LSA (\emph{Linguistic Society of America}), a style that is also quite common in General Linguistics nowadays.
In order to conform to this style, the \uvlt\ class uses the \textsf{biblatex} package with the \textsf{univie-ling} style that is included in the \uvlt\ package.

If you are in Applied Linguistics, using the default style is highly recommended. The style recommended until 2017, namely APA/DGPs, is also still supported, but its use is no longer encouraged; see sec.~\ref{sec:apa-usage} for details. If you want/need to use a different style, please refer to section~\ref{sec:bib-different} for instructions.

\subsection{Using APA/DGPs style}\label{sec:apa-usage}

Until 2017, rather than the Unified Style, the Applied Linguistics staff recommended conventions that drew on the citation style guide of the APA
(\emph{American Psychological Association}) and its adaptation for German by the DGPs (\emph{Deutsche Gesellschaft für Psychologie}).

For backwards compatibility reasons, this style is still supported (though not recommended). You can enable it with the package option \joption{apa=true}.

If you want to use APA/DGPs style, consider the following caveats.

\begin{itemize}
	\item For full conformance with the APA/DGPs conventions (particularly with regard to the rather tricky handling of ``and'' vs. ``\&'' in- and outside of parentheses), it is mandatory that you adequately use the respective \textsf{biblatex}(\textsf{-apa}) citation commands: Use \jfcsmacro{textcite} for all inline citations and \jfcsmacro{parencite} for all parenthesized citations (instead of manually wrapping \jfcsmacro{cite} in parentheses). If you cannot avoid manually set parentheses that contain citations, use \jfcsmacro{nptextcite} (a \textsf{biblatex-apa}-specific command) inside them.\footnote{ Please refer to \cite{bibltx} and \cite{apabibltx} for detailed instructions.} For quotations, it is recommended to use the quotation macros\slash environments provided by the \textsf{csquotes} package (which is preloaded by \uvlt\ anyway);
	the \uvlt\ class assures that citations are correct if you use the optional arguments of
	those commands\slash macros in order to insert references.
	
	\item The \textsf{biblatex-apa} style automatically lowercases English titles. This conforms to the APA (and DGPs) conventions, which favour ``sentence casing'' over ``title casing''. English titles, from \textsf{biblatex}'s point of view, are titles of bibliographic entries that are either coded as \joption{english} via the \joption{LangID} entry field or that have no \joption{LangID} coding but appear in an English document (i.\,e., a document with main language English). Consequently, if the document's main language is English, all non-English entries need to be linguistically coded (via \joption{LangID}) in order to prevent erroneous lowercasing, since \textsf{biblatex} assumes that non-identified entries use the main language (hence, such a classification is also important for correct hyphenation of the entries).\\
	Note that up to \textsf{biblatex} 3.3, the document language was not taken into account by the lowercasing automatism and all non-classified entries were treated like English entries (and thus lowercased), notwithstanding the main language; therefore, any entry needed to be coded. Even if this misbehaviour is fixed as of \textsf{biblatex} 3.4, it is still advisable to systematically set the proper \joption{LangID}, since this is a prerequisite for a correct multilingual bibliography.
	
	\item The lowercasing automatism described above cannot deal properly with manual punctuation inside titles. Hence, a title such as \texttt{Maintitle.~A subtitle} will come out as \emph{Main title. a subtitle}. There are several ways to avoid that. The most proper one is to use the \textsf{title} and \textsf{subtitle} fields rather than adding everything to \textsf{title}. Alternatively, everything that is nested inside braces will not get lowercased, i.\,e. \texttt{Maintitle.~\{A\} subtitle} will produce the correct result. This trick is also needed for names and other elements that should not get lowercased (\texttt{Introduction to \{Germanic\} linguistics}). However, please do not configure your BibTeX editor to generally embrace titles (this is a feature provided by many editors) since this will prevent \textsf{biblatex-apa} from lowercasing at places where it should be done.
	
	\item The \textsf{biblatex-apa} style requires that you use \textsf{biber} as a
	bibliography processor instead of \textsf{bibtex} (the program). See \cite{biber}
	for details.
\end{itemize}

\subsection{Using a different style}\label{sec:bib-different}

If you do not want or are not supposed to use neither the default Unified nor the APA/DGPs style, you can disable automatic \textsf{biblatex} loading via the class option \joption{biblatex=false} (see sec.~\ref{packageloading}). In this case, you will need to load
your own style manually, by entering the respective \textsf{biblatex} or Bib\TeX\ commands.

One case where you need to do that is if you prefer classic Bib\TeX\ over \textsf{biblatex}.
If you want to follow the Applied Linguistics conventions, but prefer classic Bib\TeX\ over \textsf{biblatex}, a Bib\TeX\ style file \textsf{unified.bst} that implements the \emph{Unified Style Sheet for Linguistics} is available on the Internet.\footnote{\url{http://celxj.org/downloads/unified.bst}} Note, though, that this package does not have specific support for German, so it is only really suitable if you write in English. Thus, if you want to follow the Applied Linguistics conventions, it is strongly recommended that you use \textsf{biblatex} with the preloaded \textsf{univie-ling} style.

\section{Further instructions}

\subsection{Commands and environments}

Since the class draws on \textsf{scrartcl}, you can use all commands and environments provided by \textsf{KOMA article} in order to structure and typeset your document.
Please refer to the comprehensive KOMA-Script manual \cite{koma} for information.

Please also refer to the template files included in the package for some further usage instructions and hints.

\subsection{\LyX\ layouts and templates}

A layout for \LyX\footnote{See \url{https://www.lyx.org}.}\ can be retrieved from \url{https://github.com/jspitz/univie-ling/raw/master/lyx/layouts/univie-ling-paper.lyx}.

Templates are provided as well:
\begin{itemize}
	\item English template:\\
	\url{https://github.com/jspitz/univie-ling/raw/master/lyx/templates/template-univie-ling-paper-english.lyx}
	\item German template:\\
	\url{https://github.com/jspitz/univie-ling/raw/master/lyx/templates/template-univie-ling-paper-deutsch.lyx}
\end{itemize}

\section{Release History}

\begin{itemize}
  \item 2018/02/04 (v. 0.9)
	\begin{itemize}
		\item Switch default bibliography style (from APA to Unified).
		\item  Intitial release to CTAN.
	\end{itemize}
  \item 2016/09/07 (v. 0.8)
	\begin{itemize}
		\item Improve \jcsmacro{makedeclaration} output.
	\end{itemize}
  \item 2016/05/05 (v. 0.7)
  \begin{itemize}
  	\item Fix comma after \emph{et al.} with \textsf{biblatex-apa}.
  \end{itemize}
  \item 2016/04/30 (v. 0.6)
	\begin{itemize}
		\item Reset the alignment after declaration.
		\item Set proper citation command for csquotes' integrated environments.
		\item Improve templates.
	\end{itemize}
  \item 2016/03/23 (v. 0.5)
   \begin{itemize}
	  	\item Fix the output of German multi-name citations (DGPs guidelines).
	  	\item Extend documentation of bibliographic features.
   \end{itemize}
  \item 2016/01/25 (v. 0.4): First (documented) release.
  \begin{itemize}
    \item Add \jcsmacro{makedeclaration} command.
    \item Possibility to disable some pre-loaded packages.
    \item Use key=value option format.
  \end{itemize}
\end{itemize}

\begin{thebibliography}{1}

\bibitem{apabibltx} Kime, Philip:
\emph{APA Bib\LaTeX\ style. Citation and References macros for Bib\LaTeX}. March 3, 2016.
\url{http://www.ctan.org/pkg/biblatex-apa}.

\bibitem{biber} Kime, Philip and Charette, Fran\c{c}ois:
\emph{Biber. A backend bibliography processor for biblatex}. March 6, 2016.
\url{http://www.ctan.org/pkg/biber}.

\bibitem{koma} Kohm, Markus (2015): KOMA-Script. The Guide. URL: \url{http://www.ctan.org/pkg/koma-script}.

\bibitem{bibltx} Lehman, Philipp (with Audrey Boruvka, Philip Kime and Joseph Wright):
\emph{The biblatex Package. Programmable Bibliographies	and Citations}. March 3, 2016.
\url{http://www.ctan.org/pkg/biblatex}.

\end{thebibliography} 

\end{document}
